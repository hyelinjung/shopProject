<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Ogani Template">
    <meta name="keywords" content="Ogani, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Ogani | Template</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;900&display=swap" rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="../css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="../css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="../css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="../css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="../css/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="../css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="../css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="../css/style.css" type="text/css">
</head>

<body>
<!-- Page Preloder -->
<div id="preloder">
    <div class="loader"></div>
</div>

<!-- Humberger Begin -->
<div class="humberger__menu__overlay"></div>
<div class="humberger__menu__wrapper">
    <div class="humberger__menu__logo">
        <a href="#"><img src="../image/logo.png" alt=""></a>
    </div>
    <div class="humberger__menu__cart">
        <ul>
            <li><a href="#"><i class="fa fa-heart"></i> <span>1</span></a></li>
            <li><a href="#"><i class="fa fa-shopping-bag"></i> <span>3</span></a></li>
        </ul>
        <div class="header__cart__price">item: <span>$150.00</span></div>
    </div>
    <div class="humberger__menu__widget">
        <div class="header__top__right__language">
            <img src="../image/language.png" alt="">
            <div>English</div>
            <span class="arrow_carrot-down"></span>
            <ul>
                <li><a href="#">Spanis</a></li>
                <li><a href="#">English</a></li>
            </ul>
        </div>
        <div class="header__top__right__auth">
            <a href="#"><i class="fa fa-user"></i> Login</a>
        </div>
    </div>
    <nav class="humberger__menu__nav mobile-menu">
        <ul>
            <li class="active"><a href="./index.html">Home</a></li>
            <li><a href="./shop-grid.html">Shop</a></li>
            <li><a href="#">Pages</a>
                <ul class="header__menu__dropdown">
                    <li><a href="./shop-details.html">Shop Details</a></li>
                    <li><a href="./shoping-cart.html">Shoping Cart</a></li>
                    <li><a href="./checkout.html">Check Out</a></li>
                    <li><a href="./blog-details.html">Blog Details</a></li>
                </ul>
            </li>
            <li><a href="./blog.html">Blog</a></li>
            <li><a href="./contact.html">Contact</a></li>
        </ul>
    </nav>
    <div id="mobile-menu-wrap"></div>
    <div class="header__top__right__social">
        <a href="#"><i class="fa fa-facebook"></i></a>
        <a href="#"><i class="fa fa-twitter"></i></a>
        <a href="#"><i class="fa fa-linkedin"></i></a>
        <a href="#"><i class="fa fa-pinterest-p"></i></a>
    </div>
    <div class="humberger__menu__contact">
        <ul>
            <li><i class="fa fa-envelope"></i> hello@colorlib.com</li>
            <li>Free Shipping for all Order of $99</li>
        </ul>
    </div>
</div>
<!-- Humberger End -->

<!-- Header Section Begin -->
<header class="header">
    <div class="header__top">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-6">
                    <div class="header__top__left">
                        <ul>
                            <li><i class="fa fa-envelope"></i> abc@naver.com</li>

                        </ul>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6">
                    <div class="header__top__right">
                        <div class="header__top__right__auth" sec:authorize="isAnonymous()">
                            <a href="/members/loginForm"><i class="fa fa-user"></i> Login</a>
                        </div>
                        <div class="header__top__right__auth" sec:authorize="isAuthenticated()">
                            <a onclick="logout()"><i class="fa fa-user"></i> Logout</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <div class="header__logo">
                    <a href="/"><img src="../image/logo.png" alt=""></a>
                </div>
            </div>
            <div class="col-lg-6">
                <nav class="header__menu">
                    <ul>
                        <li class="active"><a href="/item/cate?largeItemType=O&sm=0">OUTER</a>
                            <ul class="header__menu__dropdown">
                                <li><a href="/item/cate?largeItemType=O&&subItemType=ja&sm=0">자켓</a></li>
                                <li><a href="/item/cate?largeItemType=O&&subItemType=jum&sm=0">점퍼</a></li>
                            </ul>
                        </li>
                        <li><a href="/item/cate?largeItemType=T">TOP</a>
                            <ul class="header__menu__dropdown">
                                <li><a href="/item/cate?largeItemType=T&&subItemType=ts&sm=0">티셔츠</a></li>
                                <li><a href="/item/cate?largeItemType=T&&subItemType=n&sm=0">니트</a></li>
                                <li><a href="/item/cate?largeItemType=T&&subItemType=shr&sm=0">셔츠</a></li>
                            </ul>
                        </li>
                        <li><a href="/item/cate?largeItemType=P">PANTS</a>
                            <ul class="header__menu__dropdown">
                                <li><a href="/item/cate?largeItemType=P&&subItemType=pa&sm=0">바지</a></li>
                                <li><a href="/item/cate?largeItemType=P&&subItemType=sl&sm=0">슬랙스</a></li>
                            </ul>
                        </li>
                        <li><a href="/item/cate?largeItemType=D">DRESS</a>
                            <ul class="header__menu__dropdown">
                                <li><a href="/item/cate?largeItemType=D&&subItemType=sk&sm=0">치마</a></li>
                                <li><a href="/item/cate?largeItemType=D&&subItemType=dr&sm=0">원피스</a></li>
                            </ul>
                        </li>
                        <li><a href="/item/cate?largeItemType=A">ACT</a>
                            <ul class="header__menu__dropdown">
                                <li><a href="/item/cate?largeItemType=A&&subItemType=sh&sm=0">신발</a></li>
                                <li><a href="/item/cate?largeItemType=A&&subItemType=ba&sm=0">신발</a></li>
                            </ul>
                        </li>
                        <li sec:authorize="hasAnyAuthority('ROLE_ADMIN')">
                            <a  href="/admin/item/new">상품 등록</a>
                        </li>
                        <li sec:authorize="hasAnyAuthority('ROLE_ADMIN')">
                            <a href="/admin/items">상품 관리</a>
                        </li>
                    </ul>
                </nav>
            </div>
            <div class="col-lg-3">
                <div class="header__cart">
                    <ul>
                        <li><a href="/user/likePage"><i class="fa fa-heart"></i> </a></li>
                        <li><a href="/user/cart"><i class="fa fa-shopping-bag"></i> </a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="humberger__open">
            <i class="fa fa-bars"></i>
        </div>
    </div>
</header>
    <!-- Header Section End -->

    <!-- Hero Section Begin -->
<section class="hero">
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <div class="hero__categories">
                    <div class="hero__categories__all">
                        <i class="fa fa-bars"></i>
                        <span>All departments</span>
                    </div>
                    <ul>
                        <li><a href="/item/cate?largeItemType=O&&subItemType=ja">자켓 </a></li>
                        <li><a href="/item/cate?largeItemType=O&&subItemType=jum">점퍼  </a></li>
                        <li><a href="/item/cate?largeItemType=T&&subItemType=ts">티셔츠 </a></li>
                        <li><a href="/item/cate?largeItemType=T&&subItemType=n">니트</a></li>
                        <li><a href="/item/cate?largeItemType=T&&subItemType=shr">셔츠</a></li>
                        <li><a href="/item/cate?largeItemType=P&&subItemType=pa">바지</a></li>
                        <li><a href="/item/cate?largeItemType=P&&subItemType=sl">슬랙스</a></li>
                        <li><a href="/item/cate?largeItemType=D&&subItemType=sk">치마</a></li>
                        <li><a href="/item/cate?largeItemType=D&&subItemType=dr">원피스</a></li>
                        <li><a href="/item/cate?largeItemType=A&&subItemType=sh">신발</a></li>
                        <li><a href="/item/cate?largeItemType=A&&subItemType=ba">기타</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-9">
                <div class="hero__search">
                    <div class="hero__search__form">
                        <form action="/item/search" method="get" class="search_form" >
                            <div class="hero__search__categories">
                                Enter Item Name
                            </div>
                            <input class="search_input" type="text" name="searchBy"  placeholder="What do yo u need?">
                            <button type="submit" class="site-btn">SEARCH</button>
                        </form>
                    </div>

                </div>
                <div class="hero__item set-bg" data-setbg="../image/hero/backimg.jpg">
                    <div class="hero__text">
                        <span>CLOTHES</span>
                        <h2>CLOTHES <br />Your Style</h2>
                        <p>Free Pickup and Delivery Available</p>
                        <a href="/" class="primary-btn">SHOP NOW</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
    <!-- Hero Section End -->

    <!-- Breadcrumb Section Begin -->

    <!-- Breadcrumb Section End -->

    <!-- Product Details Section Begin -->
    <section class="product-details spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-6">
                    <div class="product__details__pic">
                        <div class="product__details__pic__item">  <!--대표이미지-->
                           <img th:src="${itemDto.itemImgDtoList[0].itemUrl}" th:alt="${itemDto.itemNm}">
                        </div>
                        <div class="product__details__pic__slider owl-carousel">
                            <img data-imgbigurl="img/product/details/product-details-2.jpg"
                                src="../img/product/details/thumb-1.jpg" alt="">
                            <img data-imgbigurl="img/product/details/product-details-3.jpg"
                                src="../img/product/details/thumb-2.jpg" alt="">
                            <img data-imgbigurl="img/product/details/product-details-5.jpg"
                                src="../img/product/details/thumb-3.jpg" alt="">
                            <img data-imgbigurl="img/product/details/product-details-4.jpg"
                                src="../img/product/details/thumb-4.jpg" alt="">
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6">
                    <div class="product__details__text">
                       <h3><div class="h3" th:text="${itemDto.itemNm}"/></h3>
                        <input type="hidden" th:id="itemId" th:value="${itemDto.id}">
                        <!--<div class="product__details__rating">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star-half-o"></i>
                            <span>(18 reviews)</span>
                        </div>-->

                        <div class="product__details__price">
                            <input type="hidden" th:value="${itemDto.price}" id="price" name="price">
                            <span th:text="${itemDto.price}" >원</span>
                        </div>
                         <div class="product__details__itemDtl">
                             <div th:text="${itemDto.itemDtl}"></div>
                         </div>
                        <div class="input-group w-50" style="margin: 20px">
                            <div class="input-group-prepend">
                                <span class="input-group-text">수량</span>
                            </div>
                            <input type="number" name="count" id="count" class="form-control" value="1" min="1" onchange="getCount()">
                        </div>
                        <a onclick="getCart()" class="primary-btn">ADD TO CARD</a>
                        <a onclick="getOrder()" class="primary-btn">ORDER</a>
                        <a onclick="getLikes()" class="heart-icon"><span class="icon_heart_alt"></span></a>
                        <ul>
                            <li><b>TotalPrice</b> <span th:id="totalPrice" ></span></li> <!--총 가격-->
                            <li><b>Delivery</b> <samp>Free pickup today</samp></li>

                        </ul>

                    </div>
                </div>
                <div class="col-lg-12">
                    <div class="product__details__tab">
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#tabs-1" role="tab"
                                    aria-selected="true">Description</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tabs-2" role="tab"
                                    aria-selected="false">Information</a>
                            </li>
                            <!--<li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tabs-3" role="tab"
                                    aria-selected="false">Reviews <span>(1)</span></a>
                            </li>-->
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane active" id="tabs-1" role="tabpanel">
                                <div class="product__details__tab__desc">
                                    <h6>Products Infomation</h6>
                                    <div th:each="img, status: ${itemDto.itemImgDtoList}" class="text-center">
                                        <img th:if="${not #strings.isEmpty(img.itemUrl)}" th:src="${img.itemUrl}"  class="rounded mgb-15" width="800">
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="tabs-2" role="tabpanel">
                                <div class="product__details__tab__desc">
                                    <h6>Products Infomation</h6>
                                    <div th:text="${itemDto.itemDtl}"></div>
                            </div>
                        <!--    <div class="tab-pane" id="tabs-3" role="tabpanel">
                                <div class="product__details__tab__desc">
                                    <h6>Products Infomation</h6>
                                    <p>Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui.
                                        Pellentesque in ipsum id orci porta dapibus. Proin eget tortor risus.
                                        Vivamus suscipit tortor eget felis porttitor volutpat. Vestibulum ac diam
                                        sit amet quam vehicula elementum sed sit amet dui. Donec rutrum congue leo
                                        eget malesuada. Vivamus suscipit tortor eget felis porttitor volutpat.
                                        Curabitur arcu erat, accumsan id imperdiet et, porttitor at sem. Praesent
                                        sapien massa, convallis a pellentesque nec, egestas non nisi. Vestibulum ac
                                        diam sit amet quam vehicula elementum sed sit amet dui. Vestibulum ante
                                        ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae;
                                        Donec velit neque, auctor sit amet aliquam vel, ullamcorper sit amet ligula.
                                        Proin eget tortor risus.</p>
                                </div>
                            </div>-->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Product Details Section End -->

    <!-- Related Product Section Begin -->

    <!-- Related Product Section End -->

    <!-- Footer Section Begin -->
    <footer class="footer spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-6 col-sm-6">
                    <div class="footer__about">
                        <div class="footer__about__logo">
                            <a href="./index.html"><img src="../image/logo.png" alt=""></a>
                        </div>
                        <ul>
                            <li>Address: 60-49 Road 11378 New York</li>
                            <li>Phone: +65 11.188.888</li>
                            <li>Email: hello@colorlib.com</li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-6 offset-lg-1">
                    <div class="footer__widget">
                        <h6>Useful Links</h6>
                        <ul>
                            <li><a href="#">About Us</a></li>
                            <li><a href="#">About Our Shop</a></li>
                            <li><a href="#">Secure Shopping</a></li>
                            <li><a href="#">Delivery infomation</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                            <li><a href="#">Our Sitemap</a></li>
                        </ul>
                        <ul>
                            <li><a href="#">Who We Are</a></li>
                            <li><a href="#">Our Services</a></li>
                            <li><a href="#">Projects</a></li>
                            <li><a href="#">Contact</a></li>
                            <li><a href="#">Innovation</a></li>
                            <li><a href="#">Testimonials</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 col-md-12">
                    <div class="footer__widget">
                        <h6>Join Our Newsletter Now</h6>
                        <p>Get E-mail updates about our latest shop and special offers.</p>
                        <form action="#">
                            <input type="text" placeholder="Enter your mail">
                            <button type="submit" class="site-btn">Subscribe</button>
                        </form>
                        <div class="footer__widget__social">
                            <a href="#"><i class="fa fa-facebook"></i></a>
                            <a href="#"><i class="fa fa-instagram"></i></a>
                            <a href="#"><i class="fa fa-twitter"></i></a>
                            <a href="#"><i class="fa fa-pinterest"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="footer__copyright">
                        <div class="footer__copyright__text"><p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                            Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
                            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p></div>
                        <div class="footer__copyright__payment"><img src="../image/payment-item.png" alt=""></div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer Section End -->

    <!-- Js Plugins -->
    <script src="../js/jquery-3.3.1.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/jquery.nice-select.min.js"></script>
    <script src="../js/jquery-ui.min.js"></script>
    <script src="../js/jquery.slicknav.js"></script>
    <script src="../js/mixitup.min.js"></script>
    <script src="../js/owl.carousel.min.js"></script>
    <script src="../js/main.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
    <!--1.수량의 따른 총 가격 변화
    2.장바구니 담기 (상품과 갯수)
    3.주문 (상품,갯수)-->

    <script>
   $(document).ready(function(){
   console.log("아이템");
    getCount();

    });

    function getLikes(){
    console.log("좋아요 실행");
    var itemId = $("#itemId").val();
    var url = "/cart/likes/" + itemId;
    $.ajax({
    url : url,
    type : "POST",
    cache   : false,
    success : function(result, status){
    alert(result);
    },
   error : function(jqXHR, status, error){

                  alert('로그인 후 이용해주세요');
            location.href='/members/loginForm';
    }
         });
         }

 function getCount(){
    console.log("실행");
   var count = $("#count").val();
   var price = $("#price").val();
   var total = count*price;
   console.log(total);
   $("#totalPrice").html(total+"원");
   }

   function getCart(){
    var paramData = {
     itemId : $("#itemId").val(),
     count : $("#count").val()
     };
    var param = JSON.stringify(paramData);
    var url ="/cart/add";

    $.ajax({
    url : url,
    type : "POST",
    data : param,
    contentType : "application/json",
    cache   : false,
    success : function(result, status){
    console.log(result);
   alert("상품을 장바구니에 담았습니다.");
    },
    error : function(jqXHR, status, error){
          alert('로그인 후 이용해주세요');

    }
         });
         }

     function getOrder(){

    var paramData = {
     itemId : $("#itemId").val(),
     count : $("#count").val()
     };
    var param = JSON.stringify(paramData);
    var url ="/order/item";

    $.ajax({
    url : url,
    type : "POST",
    data : param,
    contentType : "application/json",
    success : function(result, status){
    alert("주문이 완료 되었습니다.");
    },
    error : function(jqXHR, status, error){
          alert('로그인 후 이용해주세요');
            location.href='/members/loginForm';
    }
         });
         }


         function logout(){
            console.log("logout");
            $.ajax({
            type : 'POST',
            url : '/members/logout',
            success : function(result){
            alert("로그아웃");
            location.href="/";
            },
            error : function(jqXHR, status, error){
            alert(jqXHR.responseText);
            }
            });
            }
    </script>

</body>

</html>